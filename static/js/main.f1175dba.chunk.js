(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(23)},16:function(e,t,a){},19:function(e,t,a){},21:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(9),l=a.n(c),r=(a(16),a(2)),s=a(3),i=a(5),u=a(4),m=a(6),d=(a(8),function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"text-center"},o.a.createElement("br",null),o.a.createElement("a",{href:"https://www.hwwtc.mohw.gov.tw/"},o.a.createElement("img",{src:window.location.origin+"/react-gh-pages/img/nav_top.png",alt:"Top Navigator"})),o.a.createElement("br",null))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var h=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={echelon:200},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onInputChange",value:function(){var e=this;return function(t){var a=parseInt(t.nativeEvent.data);isNaN(a)||e.setState({echelon:a})}}},{key:"render",value:function(){return o.a.createElement("div",{className:"col-md-12 ml-sm-auto col-lg-12 px-4"},o.a.createElement("main",{role:"main",className:"col-md-12 ml-sm-auto col-lg-12 px-4"},o.a.createElement("h3",null,"\u68af\u6b21")),o.a.createElement("div",{className:"input-group mb-3 col-md-8 mx-auto"},o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text",id:"basic-addon1"},"\u68af\u6b21")),o.a.createElement("input",{type:"text",onChange:this.onInputChange().bind(this),className:"form-control",placeholder:this.state.echelon}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("span",{className:"input-group-text"},"T"))))}}]),t}(n.Component),f=a(7),p=a(1),b=(a(19),["\u885b\u751f\u798f\u5229\u90e8\u793e\u6703\u53ca\u5bb6\u5ead\u7f72\u5317\u90e8\u8fa6\u516c\u5ba4","\u81fa\u5317\u5e02\u653f\u5e9c\u793e\u6703\u5c40","\u65b0\u5317\u5e02\u653f\u5e9c\u793e\u6703\u5c40","\u81fa\u4e2d\u5e02\u653f\u5e9c\u793e\u6703\u5c40","\u81fa\u5357\u5e02\u653f\u5e9c\u793e\u6703\u5c40","\u9ad8\u96c4\u5e02\u653f\u5e9c\u793e\u6703\u5c40","\u6843\u5712\u5e02\u653f\u5e9c\u793e\u6703\u5c40","\u5b9c\u862d\u7e23\u653f\u5e9c","\u65b0\u7af9\u7e23\u653f\u5e9c","\u82d7\u6817\u7e23\u653f\u5e9c","\u5f70\u5316\u7e23\u653f\u5e9c","\u5357\u6295\u7e23\u653f\u5e9c","\u96f2\u6797\u7e23\u653f\u5e9c","\u5609\u7fa9\u7e23\u653f\u5e9c","\u5c4f\u6771\u7e23\u653f\u5e9c","\u82b1\u84ee\u7e23\u653f\u5e9c","\u81fa\u6771\u7e23\u653f\u5e9c","\u6f8e\u6e56\u7e23\u653f\u5e9c","\u57fa\u9686\u5e02\u653f\u5e9c","\u65b0\u7af9\u5e02\u653f\u5e9c","\u5609\u7fa9\u5e02\u653f\u5e9c","\u91d1\u9580\u7e23\u653f\u5e9c","\u9023\u6c5f\u7e23\u653f\u5e9c","\u885b\u751f\u798f\u5229\u90e8\u5317\u5340\u8001\u4eba\u4e4b\u5bb6","\u885b\u751f\u798f\u5229\u90e8\u5317\u5340\u8001\u4eba\u4e4b\u5bb6\u9824\u82d1\u81ea\u8cbb\u5b89\u990a\u4e2d\u5fc3","\u885b\u751f\u798f\u5229\u90e8\u4e2d\u5340\u8001\u4eba\u4e4b\u5bb6","\u885b\u751f\u798f\u5229\u90e8\u5357\u5340\u8001\u4eba\u4e4b\u5bb6","\u885b\u751f\u798f\u5229\u90e8\u6771\u5340\u8001\u4eba\u4e4b\u5bb6","\u885b\u751f\u798f\u5229\u90e8\u6f8e\u6e56\u8001\u4eba\u4e4b\u5bb6","\u885b\u751f\u798f\u5229\u90e8\u5317\u5340\u5152\u7ae5\u4e4b\u5bb6","\u885b\u751f\u798f\u5229\u90e8\u4e2d\u5340\u5152\u7ae5\u4e4b\u5bb6","\u885b\u751f\u798f\u5229\u90e8\u5357\u5340\u5152\u7ae5\u4e4b\u5bb6","\u885b\u751f\u798f\u5229\u90e8\u5c11\u5e74\u4e4b\u5bb6","\u885b\u751f\u798f\u5229\u90e8\u5f70\u5316\u8001\u4eba\u990a\u8b77\u4e2d\u5fc3","\u885b\u751f\u798f\u5229\u90e8\u5357\u6295\u555f\u667a\u6559\u990a\u9662","\u885b\u751f\u798f\u5229\u90e8\u96f2\u6797\u6559\u990a\u9662","\u885b\u751f\u798f\u5229\u90e8\u793e\u6703\u53ca\u5bb6\u5ead\u7f72\u5b9c\u862d\u6559\u990a\u9662","\u885b\u751f\u798f\u5229\u90e8\u81fa\u5357\u6559\u990a\u9662","\u885b\u751f\u798f\u5229\u90e8\u66b4\u529b\u53ca\u6027\u4fb5\u5bb3\u9632\u6cbb\u59d4\u54e1\u6703","\u885b\u751f\u798f\u5229\u90e8\u4fdd\u8b77\u670d\u52d9\u53f8","\u885b\u751f\u798f\u5229\u90e8\u793e\u6703\u4fdd\u96aa\u53f8","\u885b\u751f\u798f\u5229\u90e8\u793e\u6703\u6551\u52a9\u53ca\u793e\u5de5\u53f8","\u885b\u751f\u798f\u5229\u90e8\u793e\u6703\u6551\u52a9\u53ca\u793e\u5de5\u53f8\u4e2d\u90e8\u8fa6\u516c\u5ba4","\u885b\u751f\u798f\u5229\u90e8\u793e\u6703\u53ca\u5bb6\u5ead\u7f72\u4e2d\u90e8\u8fa6\u516c\u5ba4","\u885b\u751f\u798f\u5229\u90e8\u9577\u671f\u7167\u9867\u53f8","\u885b\u751f\u798f\u5229\u90e8\u570b\u6c11\u5e74\u91d1\u76e3\u7406\u6703","\u885b\u751f\u798f\u5229\u90e8\u885b\u751f\u798f\u5229\u4eba\u54e1\u8a13\u7df4\u4e2d\u5fc3"]),v=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={locked:e.locked,title:e.title,selected:b[0],count:0,options:b,rows:[]},a.orgSelector=o.a.createElement("select",{onChange:a.onSelectChange.bind(Object(p.a)(Object(p.a)(a)))},b.map(function(e){return o.a.createElement("option",{key:e,value:e},e)})),a.countInput=o.a.createElement("input",{onChange:a.onCountChange.bind(Object(p.a)(Object(p.a)(a))),type:"text",className:"form-control",placeholder:"1"}),a.buttonClasses="form-control btn btn-outline-secondary",a.addRowButton=o.a.createElement("button",{onClick:a.addRow.bind(Object(p.a)(Object(p.a)(a))),className:a.buttonClasses,type:"button"},"\u589e\u52a0\u55ae\u4f4d"),a.tbodyRef=o.a.createRef(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onSelectChange",value:function(e){this.setState({selected:e.target.value})}},{key:"onCountChange",value:function(e){var t=parseInt(e.target.value);isNaN(t)&&(t=1),this.setState({count:t})}},{key:"addRow",value:function(){var e={organization:this.state.selected,count:Math.max(this.state.count,1)};this.setState({rows:Object(f.a)(this.state.rows).concat([e])})}},{key:"removeRow",value:function(e){var t=this;return function(){var a=Object(f.a)(t.state.rows);a.splice(e,1),t.setState({rows:a})}}},{key:"handleRowClick",value:function(e){var t=this;return function(a){if("button"!==a.target.type)if("contextmenu"===a.type){a.stopPropagation(),a.preventDefault();var n=Object(f.a)(t.state.rows);n[e].count+=1,t.setState({rows:n})}else if("click"===a.type){var o=Object(f.a)(t.state.rows),c=o[e];c.count>0&&(c.count=c.count-1,0===c.count&&(o.splice(e,1),o.push(c)),t.setState({rows:o}))}}}},{key:"renderRows",value:function(){var e=this;return this.state.rows.map(function(t,a){return e.state.locked?o.a.createElement("tr",{key:a,onClick:e.handleRowClick(a).bind(e),bgcolor:t.count>0?"#ffffff":"#ffaaaa",onContextMenu:e.handleRowClick(a).bind(e)},o.a.createElement("td",{colSpan:"2"},t.organization),o.a.createElement("td",null,t.count)):o.a.createElement("tr",{key:a,onClick:e.handleRowClick(a).bind(e),bgcolor:t.count>0?"#ffffff":"#ffaaaa",onContextMenu:e.handleRowClick(a).bind(e)},o.a.createElement("td",null,o.a.createElement("button",{className:e.buttonClasses,onClick:e.removeRow(a).bind(e),type:"button"},"\u79fb\u9664\u55ae\u4f4d")),o.a.createElement("td",null,t.organization),o.a.createElement("td",null,t.count))})}},{key:"outputRows",value:function(){return this.state.rows}},{key:"getInputRow",value:function(){if(!this.state.locked)return o.a.createElement("tr",{id:"inputRow"},o.a.createElement("td",null,this.addRowButton),o.a.createElement("td",null,this.orgSelector),o.a.createElement("td",null,this.countInput))}},{key:"render",value:function(){return o.a.createElement("div",{className:"table-responsive col-md-12"},o.a.createElement("table",{className:"table table-bordered table-hover table-sm"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{colSpan:"2",className:"unit"},"\u5206\u767c\u55ae\u4f4d"),o.a.createElement("th",{colSpan:"2",className:"count"},"\u5269\u9918\u540d\u984d"))),o.a.createElement("tbody",{ref:this.tbodyRef},this.getInputRow(),this.renderRows())))}}]),t}(n.Component),E=(a(21),function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={locked:!1,rowsData:{home:[],priority:[],island:[],center:[],general:[]}},a.TABLE_NAMES=["\u5bb6\u5ead\u56e0\u7d20\uff08\u8fd4\u5bb6\u4f4f\u5bbf\uff09","\u512a\u5148\u5206\u767c\u6236\u7c4d\u5730\u6216\u9644\u8fd1\u670d\u5f79\uff08\u96c6\u4e2d\u4f4f\u5bbf\uff09","\u8a2d\u7c4d\u6216\u81ea\u9858\u524d\u5f80\u96e2\u5cf6\u670d\u5f79","\u885b\u751f\u798f\u5229\u4eba\u54e1\u8a13\u7df4\u4e2d\u5fc3","\u4e00\u822c\u8cc7\u683c\u8005"],a.NUM_TABLES=5,a.echelonRef=o.a.createRef(),a.tableRefs=[];for(var n=0;n<a.NUM_TABLES;++n)a.tableRefs.push(o.a.createRef());return a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"flipLockedState",value:function(){this.setState({locked:!this.state.locked});for(var e=0;e<this.NUM_TABLES;++e)this.tableRefs[e].current.setState({locked:this.state.locked})}},{key:"collectDataInCsv",value:function(){for(var e="\u68af\u6b21,"+this.echelonRef.current.state.echelon+"\n",t=0;t<this.NUM_TABLES;++t){e+=this.TABLE_NAMES[t]+","+this.tableRefs[t].current.state.rows.length+"\n";for(var a=0;a<this.tableRefs[t].current.state.rows.length;++a){var n=this.tableRefs[t].current.state.rows[a];e+=n.organization+","+n.count+"\n"}}return e}},{key:"outputData",value:function(){var e=this;return function(){var t=e.collectDataInCsv(),a=document.createElement("a");a.href="data:text/csv;charset=big5,"+encodeURI(t),a.target="_blank",a.download="\u54e1\u984d\u8868\u7db2\u8def\u7248.csv",a.click()}}},{key:"parseInputData",value:function(e){var t,a=e.split("\n");for(t=0;t<a.length;++t)a[t]=a[t].split(",");var n=a[0][1];this.echelonRef.current.setState({echelon:parseInt(n)}),t=1;for(var o=0;o<this.NUM_TABLES;++o){for(var c=[],l=1;l<=parseInt(a[t][1]);++l)c.push({organization:a[t+l][0],count:parseInt(a[t+l][1])});this.tableRefs[o].current.setState({rows:c}),t+=parseInt(a[t][1])+1}}},{key:"inputData",value:function(){var e=this;return function(t){t.persist();var a=new FileReader,n=e;a.onload=function(e){n.parseInputData(a.result)},a.readAsText(t.target.files[0])}}},{key:"createTables",value:function(){for(var e=[],t=0;t<this.NUM_TABLES;++t)e.push(o.a.createElement("div",{key:this.TABLE_NAMES[t]+t,className:"col-md-12 ml-sm-auto col-lg-12 px-4"},o.a.createElement("main",{role:"main",className:"col-md-12 ml-sm-auto col-lg-12 px-4"},o.a.createElement("h3",null,this.TABLE_NAMES[t])),o.a.createElement("div",null,o.a.createElement(v,{ref:this.tableRefs[t]}))));return e}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(h,{ref:this.echelonRef}),this.createTables(),o.a.createElement("div",{className:"col-md-12 ml-sm-auto col-lg-12 px-4"},o.a.createElement("button",{type:"button",onClick:this.flipLockedState.bind(this),className:"form-control btn btn-outline-secondary col-md-4"},"\u9396\u5b9a\u6578\u76ee"),o.a.createElement("button",{type:"button",onClick:this.outputData().bind(this),className:"form-control btn btn-outline-secondary col-md-4"},"\u4e0b\u8f09\u8cc7\u6599"),o.a.createElement("div",{className:"form-control btn btn-outline-secondary col-md-4 custom-file"},o.a.createElement("input",{type:"file",onChange:this.inputData().bind(this),className:"custom-file-input minimized",accept:".csv",id:"csvFile"}),o.a.createElement("label",{className:"",htmlFor:"csvFile"},"\u4e0a\u50b3CSV\u6a94\u6848"))))}}]),t}(n.Component));l.a.render(o.a.createElement(d,null),document.getElementById("top_navigator")),l.a.render(o.a.createElement(E,null),document.getElementById("editable_tables")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){}},[[11,2,1]]]);
//# sourceMappingURL=main.f1175dba.chunk.js.map